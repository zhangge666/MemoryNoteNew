@tailwind base;
@tailwind components;
@tailwind utilities;

/* 全局样式重置 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 
               'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 
               'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#app {
  height: 100vh;
  overflow: hidden;
}

/* 自定义滚动条样式 */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* 拖拽区域样式 */
.drag-region {
  -webkit-app-region: drag;
}

.no-drag {
  -webkit-app-region: no-drag;
}

/* 自定义组件样式 */
.memory-note-transition {
  transition: all 0.2s ease-in-out;
}

.memory-note-shadow {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* 侧边栏推出动画 - 使用宽度动画避免位置冲突 */
.push-left-enter-active,
.push-left-leave-active {
  transition: width 0.3s ease-out, opacity 0.3s ease-out;
  overflow: hidden;
}

.push-right-enter-active,
.push-right-leave-active {
  transition: width 0.3s ease-out, opacity 0.3s ease-out;
  overflow: hidden;
}

.push-left-enter-from,
.push-left-leave-to {
  width: 0 !important;
  opacity: 0;
}

.push-right-enter-from,
.push-right-leave-to {
  width: 0 !important;
  opacity: 0;
}

.push-left-enter-to,
.push-left-leave-from,
.push-right-enter-to,
.push-right-leave-from {
  opacity: 1;
}

/* 布局过渡动画 - 确保所有布局元素都有平滑过渡 */
.layout-transition {
  transition: all 0.3s ease-out;
  will-change: transform, width, height;
}

/* 工作区动画 - 与侧边栏推出动画同步 */
.workspace-transition {
  transition: all 0.3s ease-out;
  will-change: width, margin;
}

/* 同步动画 - 确保主工作区和侧边栏动画完全一致 */
.workspace-sync {
  transition: all 0.3s ease-out;
  will-change: flex-basis, width, margin, transform;
}

/* 确保所有子元素都参与同步动画 */
.workspace-sync * {
  transition: inherit;
}

/* 调整大小时的样式 */
.resize-cursor {
  cursor: ew-resize !important;
}

/* 防止调整大小时文本被选中 */
.no-select {
  user-select: none !important;
}

/* 优化动画性能 */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* 深色主题 */
.dark {
  color-scheme: dark;
}

.dark body {
  background-color: #1a1a1a;
  color: #e5e5e5;
}

.dark .bg-white {
  background-color: #2d2d2d !important;
}

.dark .bg-gray-50 {
  background-color: #1f1f1f !important;
}

.dark .bg-gray-100 {
  background-color: #2d2d2d !important;
}

.dark .bg-blue-50 {
  background-color: #1e3a8a !important;
}

.dark .bg-blue-500 {
  background-color: #3b82f6 !important;
}

.dark .bg-blue-600 {
  background-color: #2563eb !important;
}

.dark .border-gray-200 {
  border-color: #404040 !important;
}

.dark .border-gray-300 {
  border-color: #525252 !important;
}

.dark .border-blue-200 {
  border-color: #3b82f6 !important;
}

.dark .border-blue-500 {
  border-color: #60a5fa !important;
}

.dark .text-gray-700 {
  color: #d1d5db !important;
}

.dark .text-gray-600 {
  color: #9ca3af !important;
}

.dark .text-gray-500 {
  color: #6b7280 !important;
}

.dark .text-gray-900 {
  color: #f3f4f6 !important;
}

.dark .text-blue-700 {
  color: #93c5fd !important;
}

.dark .text-blue-600 {
  color: #60a5fa !important;
}

.dark .text-blue-800 {
  color: #3b82f6 !important;
}

/* 深色模式下的表单控件 */
.dark select {
  background-color: #374151 !important;
  color: #f3f4f6 !important;
  border-color: #525252 !important;
}

.dark input[type="text"],
.dark input[type="time"] {
  background-color: #374151 !important;
  color: #f3f4f6 !important;
  border-color: #525252 !important;
}

.dark input[type="text"]:focus,
.dark input[type="time"]:focus,
.dark select:focus {
  border-color: #3b82f6 !important;
  ring-color: #3b82f6 !important;
}

.dark input[readonly] {
  background-color: #1f2937 !important;
  color: #9ca3af !important;
}

/* 深色模式下的按钮 */
.dark button:hover .bg-gray-50 {
  background-color: #374151 !important;
}

.dark .hover\:bg-gray-50:hover {
  background-color: #374151 !important;
}

.dark .hover\:border-gray-400:hover {
  border-color: #6b7280 !important;
}

/* 深色模式下的切换开关 */
.dark .bg-gray-200 {
  background-color: #4b5563 !important;
}

.dark .bg-blue-600 {
  background-color: #3b82f6 !important;
}

/* 深色模式下的滑块范围输入 */
.dark input[type="range"] {
  background-color: #374151 !important;
}

.dark input[type="range"]::-webkit-slider-track {
  background-color: #4b5563 !important;
}

.dark input[type="range"]::-webkit-slider-thumb {
  background-color: #3b82f6 !important;
}

.dark input[type="range"]::-moz-range-track {
  background-color: #4b5563 !important;
}

.dark input[type="range"]::-moz-range-thumb {
  background-color: #3b82f6 !important;
  border: none;
}

/* 深色模式下的卡片和容器 */
.dark .bg-green-100 {
  background-color: #065f46 !important;
}

.dark .text-green-700 {
  color: #6ee7b7 !important;
}

.dark .hover\:shadow-md:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

/* 深色模式下的焦点环 */
.dark .focus\:ring-blue-500:focus {
  ring-color: #3b82f6 !important;
}

.dark .focus\:border-blue-500:focus {
  border-color: #3b82f6 !important;
}

/* 深色模式下的hover状态 */
.dark .hover\:bg-blue-600:hover {
  background-color: #2563eb !important;
}

.dark .hover\:text-blue-600:hover {
  color: #60a5fa !important;
}

.dark .hover\:text-blue-800:hover {
  color: #3b82f6 !important;
}

.dark .hover\:text-red-600:hover {
  color: #f87171 !important;
}

.dark .hover\:bg-blue-50:hover {
  background-color: #1e3a8a !important;
}

.dark .hover\:bg-red-50:hover {
  background-color: #7f1d1d !important;
}

/* 深色模式下的文本颜色 */
.dark .text-gray-400 {
  color: #9ca3af !important;
}

.dark .text-white {
  color: #f9fafb !important;
}

/* 深色模式下的主题预览 */
.dark .bg-gray-800 {
  background-color: #1f2937 !important;
}

/* 深色模式下的渐变背景 */
.dark .bg-gradient-to-r {
  background: linear-gradient(to right, #374151, #1f2937) !important;
}

/* 深色模式下的导航和侧边栏 */
.dark .bg-slate-50 {
  background-color: #1e293b !important;
}

.dark .bg-slate-100 {
  background-color: #334155 !important;
}

.dark .text-slate-600 {
  color: #cbd5e1 !important;
}

.dark .text-slate-700 {
  color: #e2e8f0 !important;
}

.dark .border-slate-200 {
  border-color: #475569 !important;
}

/* 深色模式下的阴影 */
.dark .shadow-sm {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3) !important;
}

.dark .shadow {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2) !important;
}

/* 深色模式下的分割线 */
.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: #404040 !important;
}

/* 深色模式下的复习页面样式 - 优化配色 */
.dark .bg-orange-50 {
  background-color: #1e3a8a !important; /* 改为深蓝色，更协调 */
}

.dark .bg-yellow-50 {
  background-color: #1f2937 !important; /* 改为深灰色 */
}

.dark .bg-blue-100 {
  background-color: #1e40af !important;
}

.dark .bg-gray-100 {
  background-color: #374151 !important;
}

.dark .text-blue-700 {
  color: #93c5fd !important;
}

.dark .text-gray-700 {
  color: #d1d5db !important;
}

.dark .text-orange-600 {
  color: #60a5fa !important; /* 改为蓝色调，更协调 */
}

.dark .text-green-600 {
  color: #4ade80 !important;
}

.dark .border-orange-300 {
  border-color: #3b82f6 !important; /* 改为蓝色边框 */
}

.dark .border-yellow-300 {
  border-color: #6b7280 !important; /* 改为中性灰色 */
}

.dark .bg-orange-500 {
  background-color: #3b82f6 !important; /* 改为蓝色按钮 */
}

.dark .hover\:bg-orange-600:hover {
  background-color: #2563eb !important; /* 蓝色悬浮效果 */
}

.dark .bg-blue-500 {
  background-color: #3b82f6 !important;
}

/* 深色模式下的复习界面组件 */
.dark .bg-blue-50 {
  background-color: #1e3a8a !important;
}

.dark .border-blue-200 {
  border-color: #3b82f6 !important;
}

.dark .text-blue-900 {
  color: #93c5fd !important;
}

.dark .text-gray-800 {
  color: #f3f4f6 !important;
}

.dark .border-red-300 {
  border-color: #dc2626 !important;
}

.dark .hover\:border-red-400:hover {
  border-color: #b91c1c !important;
}

.dark .hover\:bg-red-50:hover {
  background-color: #7f1d1d !important;
}

.dark .border-orange-300 {
  border-color: #3b82f6 !important; /* 统一使用蓝色 */
}

.dark .hover\:border-orange-400:hover {
  border-color: #2563eb !important; /* 蓝色悬浮边框 */
}

.dark .hover\:bg-orange-50:hover {
  background-color: #1e40af !important; /* 蓝色悬浮背景 */
}

.dark .border-yellow-300 {
  border-color: #ca8a04 !important;
}

.dark .hover\:border-yellow-400:hover {
  border-color: #a16207 !important;
}

.dark .hover\:bg-yellow-50:hover {
  background-color: #92400e !important;
}

.dark .border-blue-300 {
  border-color: #3b82f6 !important;
}

.dark .hover\:border-blue-400:hover {
  border-color: #2563eb !important;
}

.dark .border-green-300 {
  border-color: #16a34a !important;
}

.dark .hover\:border-green-400:hover {
  border-color: #15803d !important;
}

.dark .hover\:bg-green-50:hover {
  background-color: #14532d !important;
}

.dark .hover\:bg-gray-200:hover {
  background-color: #4b5563 !important;
}

.dark textarea {
  background-color: #374151 !important;
  color: #f3f4f6 !important;
  border-color: #525252 !important;
}

.dark textarea:focus {
  border-color: #3b82f6 !important;
  ring-color: #3b82f6 !important;
}

/* 深色模式下的进度条和其他橙色元素优化 */
.dark .bg-orange-500 {
  background-color: #3b82f6 !important; /* 进度条使用蓝色 */
}

.dark .bg-gray-200 {
  background-color: #4b5563 !important; /* 进度条背景 */
}

/* 深色模式下的文件树悬浮样式 */
.dark .hover\:bg-gray-100:hover {
  background-color: #374151 !important;
}

/* 深色模式下的右键菜单 */
.dark .hover\:bg-red-50:hover {
  background-color: #7f1d1d !important;
}

.dark .text-red-600 {
  color: #f87171 !important;
}

.dark .border-gray-100 {
  border-color: #404040 !important;
}
